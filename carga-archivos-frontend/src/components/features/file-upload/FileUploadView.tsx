import React, { useState } from "react";
import { Bentham } from "next/font/google";
import { Button } from "@/components/ui";

// Configurar la fuente Bentham
const bentham = Bentham({
	weight: "400",
	subsets: ["latin"],
});

interface FileUploadViewProps {
	onHistoryClick?: () => void;
}

export function FileUploadView({ onHistoryClick }: FileUploadViewProps) {
	const [uploadedFile, setUploadedFile] = useState<File | null>(null);

	const handleUpload = () => {
		if (uploadedFile) {			
			console.log("Uploading file:", uploadedFile.name);
			// Reset despu√©s del upload
			setUploadedFile(null);
		}
	};

	return (
		<div className="bg-white px-3 sm:px-6 lg:px-[45px] rounded-lg shadow-lg border border-gray-200">
			{/* Header with buttons */}
			<div className="flex justify-between items-center px-3 pt-4 sm:pt-6 pb-4">
				<h3 className={`text-xl sm:text-2xl lg:text-3xl font-normal text-blue-800 ${bentham.className}`}>
					Carga un archivo para visualizarlo
				</h3>
				<div className="flex gap-2">
					{onHistoryClick && (
						<Button
							variant="outline"
							onClick={onHistoryClick}
							className="flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50"
						>
							<svg width="15" height="17" viewBox="0 0 15 17" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path
									d="M13.75 1.25H11.875V0.625C11.875 0.45924 11.8092 0.300268 11.6919 0.183058C11.5747 0.065848 11.4158 0 11.25 0C11.0842 0 10.9253 0.065848 10.8081 0.183058C10.6908 0.300268 10.625 0.45924 10.625 0.625V1.25H4.375V0.625C4.375 0.45924 4.30915 0.300268 4.19194 0.183058C4.07473 0.065848 3.91576 0 3.75 0C3.58424 0 3.42527 0.065848 3.30806 0.183058C3.19085 0.300268 3.125 0.45924 3.125 0.625V1.25H1.25C0.918479 1.25 0.600537 1.3817 0.366116 1.61612C0.131696 1.85054 0 2.16848 0 2.5V15C0 15.3315 0.131696 15.6495 0.366116 15.8839C0.600537 16.1183 0.918479 16.25 1.25 16.25H13.75C14.0815 16.25 14.3995 16.1183 14.6339 15.8839C14.8683 15.6495 15 15.3315 15 15V2.5C15 2.16848 14.8683 1.85054 14.6339 1.61612C14.3995 1.3817 14.0815 1.25 13.75 1.25ZM3.125 2.5V3.125C3.125 3.29076 3.19085 3.44973 3.30806 3.56694C3.42527 3.68415 3.58424 3.75 3.75 3.75C3.91576 3.75 4.07473 3.68415 4.19194 3.56694C4.30915 3.44973 4.375 3.29076 4.375 3.125V2.5H10.625V3.125C10.625 3.29076 10.6908 3.44973 10.8081 3.56694C10.9253 3.68415 11.0842 3.75 11.25 3.75C11.4158 3.75 11.5747 3.68415 11.6919 3.56694C11.8092 3.44973 11.875 3.29076 11.875 3.125V2.5H13.75V5H1.25V2.5H3.125ZM13.75 15H1.25V6.25H13.75V15ZM8.4375 9.0625C8.4375 9.24792 8.38252 9.42918 8.2795 9.58335C8.17649 9.73752 8.03007 9.85768 7.85877 9.92864C7.68746 9.99959 7.49896 10.0182 7.3171 9.98199C7.13525 9.94581 6.9682 9.85652 6.83709 9.72541C6.70598 9.5943 6.61669 9.42725 6.58051 9.2454C6.54434 9.06354 6.56291 8.87504 6.63386 8.70373C6.70482 8.53243 6.82498 8.38601 6.97915 8.283C7.13332 8.17998 7.31458 8.125 7.5 8.125C7.74864 8.125 7.9871 8.22377 8.16291 8.39959C8.33873 8.5754 8.4375 8.81386 8.4375 9.0625ZM11.875 9.0625C11.875 9.24792 11.82 9.42918 11.717 9.58335C11.614 9.73752 11.4676 9.85768 11.2963 9.92864C11.125 9.99959 10.9365 10.0182 10.7546 9.98199C10.5727 9.94581 10.4057 9.85652 10.2746 9.72541C10.1435 9.5943 10.0542 9.42725 10.018 9.2454C9.98184 9.06354 10.0004 8.87504 10.0714 8.70373C10.1423 8.53243 10.2625 8.38601 10.4167 8.283C10.5708 8.17998 10.7521 8.125 10.9375 8.125C11.1861 8.125 11.4246 8.22377 11.6004 8.39959C11.7762 8.5754 11.875 8.81386 11.875 9.0625ZM5 12.1875C5 12.3729 4.94502 12.5542 4.842 12.7083C4.73899 12.8625 4.59257 12.9827 4.42127 13.0536C4.24996 13.1246 4.06146 13.1432 3.8796 13.107C3.69775 13.0708 3.5307 12.9815 3.39959 12.8504C3.26848 12.7193 3.17919 12.5523 3.14301 12.3704C3.10684 12.1885 3.12541 12 3.19636 11.8287C3.26732 11.6574 3.38748 11.511 3.54165 11.408C3.69582 11.305 3.87708 11.25 4.0625 11.25C4.31114 11.25 4.5496 11.3488 4.72541 11.5246C4.90123 11.7004 5 11.9389 5 12.1875ZM8.4375 12.1875C8.4375 12.3729 8.38252 12.5542 8.2795 12.7083C8.17649 12.8625 8.03007 12.9827 7.85877 13.0536C7.68746 13.1246 7.49896 13.1432 7.3171 13.107C7.13525 13.0708 6.9682 12.9815 6.83709 12.8504C6.70598 12.7193 6.61669 12.5523 6.58051 12.3704C6.54434 12.1885 6.56291 12 6.63386 11.8287C6.70482 11.6574 6.82498 11.511 6.97915 11.408C7.13332 11.305 7.31458 11.25 7.5 11.25C7.74864 11.25 7.9871 11.3488 8.16291 11.5246C8.33873 11.7004 8.4375 11.9389 8.4375 12.1875ZM11.875 12.1875C11.875 12.3729 11.82 12.5542 11.717 12.7083C11.614 12.8625 11.4676 12.9827 11.2963 13.0536C11.125 13.1246 10.9365 13.1432 10.7546 13.107C10.5727 13.0708 10.4057 12.9815 10.2746 12.8504C10.1435 12.7193 10.0542 12.5523 10.018 12.3704C9.98184 12.1885 10.0004 12 10.0714 11.8287C10.1423 11.6574 10.2625 11.511 10.4167 11.408C10.5708 11.305 10.7521 11.25 10.9375 11.25C11.1861 11.25 11.4246 11.3488 11.6004 11.5246C11.7762 11.7004 11.875 11.9389 11.875 12.1875Z"
									fill="#2E4258"
								/>
							</svg>
							Historial
						</Button>
					)}
					<Button
						className="flex items-center gap-2 px-4 py-2 text-sm text-white bg-[#2E4258] rounded-lg hover:bg-[#2E4258]"
						onClick={handleUpload}
						disabled={!uploadedFile}
					>
						<svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
						</svg>
						Cargar archivo
					</Button>
				</div>
			</div>
		</div>
	);
}
